# -*- coding: utf-8 -*-
"""
Emergency Detection and Response Module
Handles emergency situations and provides immediate alerts
"""

def detect_emergency(text: str) -> bool:
    """
    Detect emergency keywords in user input across all 8 languages
    Returns: True if emergency detected
    """
    emergency_keywords = {
        'hindi': [
            'chest pain', 'seene mein dard', 'dil ka dard', 'saans nahi aa rahi',
            'bahut bleeding', 'khoon bah raha', 'behosh', 'accident',
            'stroke', 'paralysis', 'lakwa', 'heart attack'
        ],
        'english': [
            'chest pain', 'heart attack', 'can\'t breathe', 'breathing difficulty',
            'heavy bleeding', 'fainting', 'fainted', 'severe accident',
            'stroke', 'paralysis', 'unconscious'
        ],
        'marathi': [
            'рдЫрд╛рддреАрдд рджреБрдЦрдд', 'рдЫрд╛рддреА рджреБрдЦрддреЗ', 'рд╣реГрджрдпрд╡рд┐рдХрд╛рд░', 'рд╢реНрд╡рд╛рд╕ рдШреЗрддрд╛ рдпреЗрдд рдирд╛рд╣реА',
            'рдЬрд╛рд╕реНрдд рд░рдХреНрддрд╕реНрддреНрд░рд╛рд╡', 'рдмреЗрд╢реБрджреНрдз', 'рдЕрдкрдШрд╛рдд', 'рд╕реНрдЯреНрд░реЛрдХ', 'рдЕрд░реНрдзрд╛рдВрдЧрд╡рд╛рдпреВ'
        ],
        'bengali': [
            'ржмрзБржХрзЗ ржмрзНржпржерж╛', 'рж╣рж╛рж░рзНржЯ ржЕрзНржпрж╛ржЯрж╛ржХ', 'рж╢рзНржмрж╛рж╕ ржирж┐рждрзЗ ржкрж╛рж░ржЫрж┐ ржирж╛',
            'ржкрзНрж░ржЪрзБрж░ рж░ржХрзНрждржкрж╛ржд', 'ржЕржЬрзНржЮрж╛ржи', 'ржжрзБрж░рзНржШржЯржирж╛', 'рж╕рзНржЯрзНрж░рзЛржХ', 'ржкржХрзНрж╖рж╛ржШрж╛ржд'
        ],
        'tamil': [
            'рооро╛ро░рпНрокрпБ ро╡ро▓ро┐', 'роЗродроп ро╡ро▓ро┐', 'роорпВроЪрпНроЪрпБ ро╡ро┐роЯ роорпБроЯро┐ропро╡ро┐ро▓рпНро▓рпИ',
            'роЕродро┐роХ роЗро░родрпНродрокрпНрокрпЛроХрпНроХрпБ', 'рооропроХрпНроХроорпН', 'ро╡ро┐рокродрпНродрпБ', 'рокроХрпНроХро╡ро╛родроорпН'
        ],
        'telugu': [
            'р░Ыр░╛р░др▒А р░ир▒Кр░кр▒Нр░кр░┐', 'р░Чр▒Бр░Вр░бр▒Ж р░ир▒Кр░кр▒Нр░кр░┐', 'р░Кр░кр░┐р░░р░┐ р░др▒Ар░╕р▒Бр░Хр▒Лр░▓р▒Зр░Хр░кр▒Лр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б',
            'р░Ер░зр░┐р░Х р░░р░Хр▒Нр░др░╕р▒Нр░░р░╛р░╡р░В', 'р░ор▒Вр░░р▒Нр░Ы', 'р░кр▒Нр░░р░ор░╛р░жр░В', 'р░╕р▒Нр░Яр▒Нр░░р▒Лр░Хр▒Н', 'р░кр░Хр▒Нр░╖р░╡р░╛р░др░В'
        ],
        'punjabi': [
            'риЫри╛ридрйА ри╡ри┐рй▒риЪ рижри░риж', 'рижри┐ри▓ рижри╛ рижрйМри░ри╛', 'ри╕ри╛ри╣ риири╣рйАриВ риЖ ри░ри╣рйА',
            'римри╣рйБрид риЦрйВрии', 'римрйЗри╣рйЛри╕ри╝', 'ри╣ри╛рижри╕ри╛', 'ри╕риЯри░рйЛриХ', 'риЕризри░рй░риЧ'
        ],
        'gujarati': [
            'ркЫрк╛ркдрлАркорк╛ркВ ркжрлБркЦрк╛рк╡рлЛ', 'рк╣рлГркжркпрк░рлЛркЧркирлЛ рк╣рлБркорк▓рлЛ', 'рк╢рлНрк╡рк╛рк╕ рк▓рлЗрк╡рк╛ркорк╛ркВ ркорлБрк╢рлНркХрлЗрк▓рлА',
            'ркЦрлВркм рк░ркХрлНркдрк╕рлНркдрлНрк░рк╛рк╡', 'ркмрлЗрк╣рлЛрк╢', 'ркЕркХрк╕рлНркорк╛ркд', 'рк╕рлНркЯрлНрк░рлЛркХ', 'рк▓ркХрк╡рлЛ'
        ]
    }
    
    text_lower = text.lower()
    
    # Check all languages for emergency keywords
    for lang in emergency_keywords:
        for keyword in emergency_keywords[lang]:
            if keyword.lower() in text_lower:
                return True
    
    return False


def get_emergency_response(language: str) -> str:
    """Generate emergency response message"""
    responses = {
        'hindi': """
ЁЯЪи YEH EMERGENCY JAISA LAG RAHA HAI!

KRIPYA TURANT:
тЬЕ Apne najdeeki hospital ya emergency service se sampark karein
тЬЕ 108 (Ambulance) dial karein
тЬЕ Kisi ko saath mein rakhein

Agar sambhav ho toh turant hospital jayein. Der na karein!
""",
        'english': """
ЁЯЪи THIS SEEMS LIKE AN EMERGENCY!

PLEASE IMMEDIATELY:
тЬЕ Contact your nearest hospital or emergency service
тЬЕ Call 108 (Ambulance)
тЬЕ Have someone stay with you

If possible, go to the hospital right away. Don't delay!
""",
        'marathi': """
ЁЯЪи рд╣реА рдЖрдкрддреНрдХрд╛рд▓реАрди рдкрд░рд┐рд╕реНрдерд┐рддреА рджрд┐рд╕рддреЗ рдЖрд╣реЗ!

рдХреГрдкрдпрд╛ рддрд╛рддрдбреАрдиреЗ:
тЬЕ рддреБрдордЪреНрдпрд╛ рдЬрд╡рд│рдЪреНрдпрд╛ рд░реБрдЧреНрдгрд╛рд▓рдп рдХрд┐рдВрд╡рд╛ рдЖрдкрддреНрдХрд╛рд▓реАрди рд╕реЗрд╡реЗрд╢реА рд╕рдВрдкрд░реНрдХ рд╕рд╛рдзрд╛
тЬЕ 108 (рд░реБрдЧреНрдгрд╡рд╛рд╣рд┐рдХрд╛) рдбрд╛рдпрд▓ рдХрд░рд╛
тЬЕ рдХреЛрдгрд╛рд▓рд╛ рддрд░реА рд╕реЛрдмрдд рдареЗрд╡рд╛

рд╢рдХреНрдп рдЕрд╕рд▓реНрдпрд╛рд╕ рддрд╛рдмрдбрддреЛрдм рд░реБрдЧреНрдгрд╛рд▓рдпрд╛рдд рдЬрд╛. рдЙрд╢реАрд░ рдХрд░реВ рдирдХрд╛!
""",
        'bengali': """
ЁЯЪи ржПржЯрж┐ ржЬрж░рзБрж░рзА ржЕржмрж╕рзНржерж╛рж░ ржорждрзЛ ржоржирзЗ рж╣ржЪрзНржЫрзЗ!

ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ рждрж╛рзОржХрзНрж╖ржгрж┐ржХржнрж╛ржмрзЗ:
тЬЕ ржЖржкржирж╛рж░ ржирж┐ржХржЯрждржо рж╣рж╛рж╕ржкрж╛рждрж╛рж▓ ржмрж╛ ржЬрж░рзБрж░рж┐ рж╕рзЗржмрж╛рж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи
тЬЕ 108 (ржЕрзНржпрж╛ржорзНржмрзБрж▓рзЗржирзНрж╕) ржбрж╛ржпрж╝рж╛рж▓ ржХрж░рзБржи
тЬЕ ржХрж╛ржЙржХрзЗ ржЖржкржирж╛рж░ рж╕рж╛ржерзЗ рж░рж╛ржЦрзБржи

рж╕ржорзНржнржм рж╣рж▓рзЗ ржЕржмрж┐рж▓ржорзНржмрзЗ рж╣рж╛рж╕ржкрж╛рждрж╛рж▓рзЗ ржпрж╛ржиред ржжрзЗрж░рж┐ ржХрж░ржмрзЗржи ржирж╛!
""",
        'tamil': """
ЁЯЪи роЗродрпБ роЕро╡роЪро░роиро┐ро▓рпИ рокрпЛро▓рпН родрпЖро░ро┐роХро┐ро▒родрпБ!

роЙроЯройроЯро┐ропро╛роХ:
тЬЕ роЙроЩрпНроХро│рпН роЕро░рпБроХро┐ро▓рпБро│рпНро│ рооро░рпБродрпНродрпБро╡рооройрпИ роЕро▓рпНро▓родрпБ роЕро╡роЪро░ роЪрпЗро╡рпИропрпИ родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН
тЬЕ 108 (роЖроорпНрокрпБро▓ройрпНро╕рпН) роЯропро▓рпН роЪрпЖропрпНропрпБроЩрпНроХро│рпН
тЬЕ ропро╛ро░рпИропро╛ро╡родрпБ роЙроЩрпНроХро│рпБроЯройрпН ро╡рпИроХрпНроХро╡рпБроорпН

роорпБроЯро┐роирпНродро╛ро▓рпН роЙроЯройроЯро┐ропро╛роХ рооро░рпБродрпНродрпБро╡рооройрпИроХрпНроХрпБ роЪрпЖро▓рпНро▓рпБроЩрпНроХро│рпН. родро╛роородро┐роХрпНроХро╛родрпАро░рпНроХро│рпН!
""",
        'telugu': """
ЁЯЪи р░Зр░жр░┐ р░Ер░др▒Нр░пр░╡р░╕р░░ р░кр░░р░┐р░╕р▒Нр░ер░┐р░др░┐р░Чр░╛ р░Хр░ир░┐р░кр░┐р░╕р▒Нр░др▒Лр░Вр░жр░┐!

р░жр░пр░Ър▒Зр░╕р░┐ р░╡р▒Жр░Вр░Яр░ир▒З:
тЬЕ р░ор▒А р░╕р░ор▒Ар░к р░Жр░╕р▒Бр░кр░др▒Нр░░р░┐ р░▓р▒Зр░жр░╛ р░Ер░др▒Нр░пр░╡р░╕р░░ р░╕р▒Зр░╡р░ир▒Б р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐
тЬЕ 108 (р░Ер░Вр░мр▒Бр░▓р▒Жр░ир▒Нр░╕р▒Н) р░бр░пр░▓р▒Н р░Ър▒Зр░пр░Вр░бр░┐
тЬЕ р░Ор░╡р░░р░┐р░ир▒Ир░ир░╛ р░ор▒Ар░др▒Л р░Йр░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐

р░╡р▒Ар░▓р▒Ир░др▒З р░╡р▒Жр░Вр░Яр░ир▒З р░Жр░╕р▒Бр░кр░др▒Нр░░р░┐р░Хр░┐ р░╡р▒Жр░│р▒Нр░▓р░Вр░бр░┐. р░Жр░▓р░╕р▒Нр░пр░В р░Ър▒Зр░пр░╡р░жр▒Нр░жр▒Б!
""",
        'punjabi': """
ЁЯЪи риЗри╣ риРриори░риЬрйИриВри╕рйА риЬри┐ри╣рйА ри▓рй▒риЧ ри░ри╣рйА ри╣рйИ!

риХри┐ри░рикри╛ риХри░риХрйЗ ридрйБри░рй░рид:
тЬЕ риЖрикригрйЗ риирйЗрйЬрйЗ рижрйЗ ри╣ри╕рикридри╛ри▓ риЬри╛риВ риРриори░риЬрйИриВри╕рйА ри╕рйЗри╡ри╛ риири╛ри▓ ри╕рй░рикри░риХ риХри░рйЛ
тЬЕ 108 (риРриВримрйВри▓рйИриВри╕) рибри╛риЗри▓ риХри░рйЛ
тЬЕ риХри┐ри╕рйЗ риирйВрй░ риЖрикригрйЗ риири╛ри▓ ри░рй▒риЦрйЛ

риЬрйЗ ри╕рй░ринри╡ ри╣рйЛри╡рйЗ ридри╛риВ ридрйБри░рй░рид ри╣ри╕рикридри╛ри▓ риЬри╛риУред рижрйЗри░рйА риири╛ риХри░рйЛ!
""",
        'gujarati': """
ЁЯЪи ркЖ ркХркЯрлЛркХркЯрлА ркЬрлЗрк╡рлБркВ рк▓рк╛ркЧрлЗ ркЫрлЗ!

ркХрлГрккрк╛ ркХрк░рлАркирлЗ ркдрк╛ркдрлНркХрк╛рк▓рк┐ркХ:
тЬЕ ркдркорк╛рк░рлА ркиркЬрлАркХркирлА рк╣рлЛрк╕рлНрккрк┐ркЯрк▓ ркЕркерк╡рк╛ ркЗркорк░ркЬркирлНрк╕рлА рк╕рлЗрк╡рк╛ркирлЛ рк╕ркВрккрк░рлНркХ ркХрк░рлЛ
тЬЕ 108 (ркПркорлНркмрлНркпрлБрк▓ркирлНрк╕) ркбрк╛ркпрк▓ ркХрк░рлЛ
тЬЕ ркХрлЛркИркирлЗ ркдркорк╛рк░рлА рк╕рк╛ркерлЗ рк░рк╛ркЦрлЛ

рк╢ркХрлНркп рк╣рлЛркп ркдрлЛ ркдрк╛ркдрлНркХрк╛рк▓рк┐ркХ рк╣рлЛрк╕рлНрккрк┐ркЯрк▓ркорк╛ркВ ркЬрк╛ркУ. рк╡рк┐рк▓ркВркм рки ркХрк░рлЛ!
"""
    }
    
    return responses.get(language, responses['hindi'])
